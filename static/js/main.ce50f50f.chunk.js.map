{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","assets/images/870-300x300-blur_2-grayscale.jpg","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Spinner.js","hooks/useInfiniteScroll.js","hooks/useLazyLoading.js","helpers/images-api.js","hooks/useFetch.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","styles","ImageGalleryItem","urlPreview","urlFull","tags","onSetImgData","item","src","data-src","alt","image","onClick","ImageGallery","images","gallery","map","img","i","webformatURL","largeImageURL","Searchbar","onSubmit","useState","query","setQuery","bar","form","e","preventDefault","trim","toast","warn","position","type","button","label","input","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","override","css","Spinner","loading","size","color","useInfiniteScroll","scrollRef","setPage","observerRef","useRef","scrollObserver","useCallback","node","current","IntersectionObserver","entries","forEach","entry","intersectionRatio","state","observe","useEffect","useLazyLoading","imgSelector","items","imgObserver","intObs","currentImg","target","newImgSrc","dataset","error","unobserve","imagesRef","document","querySelectorAll","URL","API_KEY","fetchAPI","searchQuery","a","page","pageSize","fetch","response","json","hits","totalHits","useFetch","Status","isLastPage","setStatus","setImages","setTotalPages","setError","searchQueryRef","PENDING","length","IDLE","prevState","RESOLVED","Math","ceil","message","REJECTED","Modal","React","lazy","ScrollTop","App","galleryImages","totalPages","setSearchQuery","largeImageUrl","setLargeImageUrl","modalImgTags","setModalImgTags","status","setIsLastPage","bottomBoundaryRef","toggleModal","openModal","id","ref","autoClose","fallback","onClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce50f50f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__BJ07M\",\"image\":\"ImageGalleryItem_image__K1pr6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__1eVQL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__22JmB\"};","import PropTypes from 'prop-types';\nimport styles from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={styles.Container}>{children}</div>\n);\nContainer.propTypes = {\n  children: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\n};\nexport default Container;\n","import PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\nimport preload from '../../../assets/images/870-300x300-blur_2-grayscale.jpg';\n\nconst ImageGalleryItem = ({\n  urlPreview = 'http://placehold.it/600x400',\n  urlFull = 'http://placehold.it/600x400',\n  tags = '',\n  onSetImgData,\n}) => {\n  return (\n    <li className={styles.item}>\n      <img\n        src={preload}\n        data-src={urlPreview}\n        alt={tags}\n        className={`image ${styles.image}`}\n        onClick={() => {\n          onSetImgData({ urlFull, tags });\n        }}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  urlPreview: PropTypes.string.isRequired,\n  urlFull: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onSetImgData: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","export default \"data:image/jpeg;base64,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\"","import PropTypes from 'prop-types';\nimport ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onSetImgData }) => {\n  return (\n    <ul className={styles.gallery}>\n      {images.map((img, i) => (\n        <ImageGalleryItem\n          key={i}\n          urlPreview={img.webformatURL}\n          urlFull={img.largeImageURL}\n          tags={img.tags}\n          onSetImgData={onSetImgData}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onSetImgData: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport styles from './Searchbar.module.css';\r\n\r\nconst Searchbar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = (e) => setQuery(e.currentTarget.value);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      toast.warn('Please enter your query', {\r\n        position: 'top-right',\r\n      });\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n    setQuery('');\r\n  };\r\n\r\n  return (\r\n    <header className={styles.bar}>\r\n      <form className={styles.form} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={styles.button}>\r\n          <span className={styles.label}>Search</span>\r\n        </button>\r\n        <input\r\n          className={styles.input}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={query}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n};\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import PropTypes from 'prop-types';\r\nimport { css } from '@emotion/core';\r\nimport PacmanLoader from 'react-spinners/PacmanLoader';\r\n\r\n// Can be a string as well. Need to ensure each key-value pair ends with ;\r\nconst override = css`\r\n  display: block;\r\n  margin: 0 auto;\r\n  border-color: red;\r\n`;\r\n\r\nconst Spinner = ({ loading }) => (\r\n  <div className=\"sweet-loading\">\r\n    <PacmanLoader\r\n      css={override}\r\n      size={32}\r\n      color={'#303f9f'}\r\n      loading={loading}\r\n    />\r\n  </div>\r\n);\r\n\r\nSpinner.propTypes = {\r\n  loading: PropTypes.bool.isRequired,\r\n};\r\n\r\nexport default Spinner;\r\n","import { useEffect, useCallback, useRef } from 'react';\n\nconst useInfiniteScroll = (scrollRef, setPage) => {\n  const observerRef = useRef(null);\n  const scrollObserver = useCallback(\n    (node) => {\n      observerRef.current = new IntersectionObserver((entries) => {\n        entries.forEach((entry) => {\n          if (entry.intersectionRatio > 0) {\n            setPage((state) => state + 1);\n          }\n        });\n      });\n      observerRef.current.observe(node);\n    },\n    [setPage]\n  );\n\n  useEffect(() => {\n    if (scrollRef.current) {\n      scrollObserver(scrollRef.current);\n    }\n  }, [scrollObserver, scrollRef]);\n};\n\nexport default useInfiniteScroll;\n","import { useEffect, useRef, useCallback } from 'react';\nimport { toast } from 'react-toastify';\n\nconst useLazyLoading = (imgSelector, items) => {\n  const imgObserver = useCallback((node) => {\n    const intObs = new IntersectionObserver((entries) => {\n      entries.forEach((entry) => {\n        if (entry.intersectionRatio > 0) {\n          const currentImg = entry.target;\n          const newImgSrc = currentImg.dataset.src;\n\n          if (!newImgSrc) {\n            toast.error('Image source is invalid');\n          } else {\n            currentImg.src = newImgSrc;\n          }\n          intObs.unobserve(node);\n        }\n      });\n    });\n    intObs.observe(node);\n  }, []);\n\n  const imagesRef = useRef(null);\n  useEffect(() => {\n    imagesRef.current = document.querySelectorAll(imgSelector);\n    if (imagesRef.current) {\n      imagesRef.current.forEach((img) => imgObserver(img));\n    }\n  }, [imgObserver, imagesRef, imgSelector, items]);\n};\n\nexport default useLazyLoading;\n","const URL = 'https://pixabay.com/api/';\nconst API_KEY = '18257903-4453e2975e3dd917fd04b41f9';\n\nconst getFetch = () => {\n  return async (searchQuery, page = 1, pageSize = 12) => {\n    const response = await fetch(`${URL}?key=${API_KEY}&q=${searchQuery}&per_page=${pageSize}&page=${page}\n      &image_type=photo&orientation=horizontal`);\n    const { hits: images, totalHits } = await response.json();\n    return { totalHits, pageSize, images };\n  };\n};\n\nconst fetchAPI = getFetch();\n\nexport default fetchAPI;\n","import { useEffect, useRef } from 'react';\nimport { toast } from 'react-toastify';\nimport fetchAPI from '../helpers/images-api';\n\nconst useFetch = (\n  Status,\n  page,\n  isLastPage,\n  searchQuery,\n  { setStatus, setImages, setTotalPages, setError }\n) => {\n  const searchQueryRef = useRef(searchQuery);\n  useEffect(() => {\n    if (isLastPage && searchQueryRef.current === searchQuery) {\n      return;\n    }\n    searchQueryRef.current = searchQuery;\n\n    setStatus(Status.PENDING);\n    (async () => {\n      try {\n        const response = await fetchAPI(searchQuery, page);\n        const { images, totalHits, pageSize } = response;\n        if (!images.length) {\n          toast.warn('Sorry, nothing found :(');\n          setStatus(Status.IDLE);\n          return;\n        }\n        setImages((prevState) => [...prevState, ...images]);\n        setStatus(Status.RESOLVED);\n        setTotalPages(Math.ceil(totalHits / pageSize));\n      } catch (err) {\n        setError(err);\n        toast.error(err.message);\n        setStatus(Status.REJECTED);\n      }\n    })();\n  }, [\n    searchQuery,\n    page,\n    isLastPage,\n    Status,\n    setStatus,\n    setImages,\n    setTotalPages,\n    setError,\n  ]);\n};\n\nexport default useFetch;\n","import React, { useState, useEffect, useRef, Suspense } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Container from './components/Container/Container';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport Spinner from './components/Spinner';\nimport useInfiniteScroll from './hooks/useInfiniteScroll';\nimport useLazyLoading from './hooks/useLazyLoading';\nimport useFetch from './hooks/useFetch';\nconst Modal = React.lazy(() => import('./components/Modal/Modal'));\nconst ScrollTop = React.lazy(() => import('./components/ScrollTop/ScrollTop'));\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst App = () => {\n  const [galleryImages, setImages] = useState([]);\n  const [totalPages, setTotalPages] = useState(null);\n  const [searchQuery, setSearchQuery] = useState('cats');\n  const [page, setPage] = useState(1);\n  const [largeImageUrl, setLargeImageUrl] = useState(null);\n  const [modalImgTags, setModalImgTags] = useState(null);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [isLastPage, setIsLastPage] = useState(false);\n\n  let bottomBoundaryRef = useRef(null);\n\n  useFetch(Status, page, isLastPage, searchQuery, {\n    setStatus,\n    setImages,\n    setTotalPages,\n    setError,\n  });\n\n  useInfiniteScroll(bottomBoundaryRef, setPage);\n\n  useEffect(() => {\n    setIsLastPage(false);\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (totalPages === page || totalPages === 1) {\n      setIsLastPage(true);\n    }\n  }, [page, totalPages]);\n\n  useLazyLoading('.image', galleryImages);\n\n  const handleSearchFormSubmit = (query) => {\n    if (query === searchQuery) {\n      return;\n    }\n    setImages([]);\n    setPage(1);\n    setError(false);\n    setSearchQuery(query);\n  };\n\n  const setModalImgData = ({ urlFull, tags }) => {\n    setLargeImageUrl(urlFull);\n    setModalImgTags(tags);\n  };\n\n  const toggleModal = () => setLargeImageUrl('');\n\n  return (\n    <>\n      {' '}\n      <Searchbar onSubmit={handleSearchFormSubmit} />\n      <Container>\n        {status === Status.REJECTED && error && <p>{'Whoops... :( '}</p>}\n\n        <ImageGallery\n          images={galleryImages}\n          openModal={toggleModal}\n          onSetImgData={setModalImgData}\n        />\n\n        <div id=\"page-bottom-boundary\" ref={bottomBoundaryRef} />\n\n        {status === Status.PENDING && <Spinner loading={true} />}\n\n        <ToastContainer autoClose={4000} />\n\n        <Suspense fallback={<div>Загрузка...</div>}>\n          {largeImageUrl && (\n            <Modal onClose={toggleModal}>\n              <img src={largeImageUrl} alt={modalImgTags} />\n            </Modal>\n          )}\n          <ScrollTop searchQuery={searchQuery} />\n        </Suspense>\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"bar\":\"Searchbar_bar__hMWCH\",\"form\":\"Searchbar_form__2bDYb\",\"button\":\"Searchbar_button__3qkVQ\",\"label\":\"Searchbar_label__3G9h0\",\"input\":\"Searchbar_input__3HYIf\"};"],"sourceRoot":""}