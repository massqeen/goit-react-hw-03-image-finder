(this.webpackJsonpreactstudying=this.webpackJsonpreactstudying||[]).push([[0],{13:function(e,t,n){e.exports={item:"ImageGalleryItem_item__BJ07M",image:"ImageGalleryItem_image__K1pr6"}},14:function(e,t,n){e.exports={backdrop:"Modal_backdrop__22F3F",content:"Modal_content__3sqph"}},15:function(e,t,n){e.exports={scrollTop:"ScrollTop_scrollTop__29hJZ",fadeIn:"ScrollTop_fadeIn__33RTi",hideScroll:"ScrollTop_hideScroll__2_ZyZ"}},18:function(e,t,n){e.exports={button:"Button_button__YskiH"}},19:function(e,t,n){e.exports={Container:"Container_Container__1eVQL"}},20:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__22JmB"}},31:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(3),s=n.n(o),i=(n(31),n(4)),l=n.n(i),u=n(16),b=n(9),d=n(2),j=n(5),f=n(18),p=n.n(f),m=function(e){var t=e.onLoadMore;return Object(a.jsx)("button",{id:"loadMore",type:"button",className:p.a.button,onClick:function(){return t()},children:"Load more"})},h=n(19),O=n.n(h),g=function(e){var t=e.children;return Object(a.jsx)("div",{className:O.a.Container,children:t})},_=n(13),x=n.n(_),v=function(e){var t=e.urlPreview,n=void 0===t?"http://placehold.it/600x400":t,r=e.urlFull,c=void 0===r?"http://placehold.it/600x400":r,o=e.tags,s=void 0===o?"":o,i=e.onSetImgData;return Object(a.jsx)("li",{className:x.a.item,children:Object(a.jsx)("img",{src:n,alt:s,className:x.a.image,onClick:function(){i({urlFull:c,tags:s})}})})},S=n(20),w=n.n(S),y=function(e){var t=e.images,n=e.onSetImgData;return Object(a.jsx)("ul",{className:w.a.gallery,children:t.map((function(e,t){return Object(a.jsx)(v,{urlPreview:e.webformatURL,urlFull:e.largeImageURL,tags:e.tags,onSetImgData:n},t)}))})},k="https://pixabay.com/api/",C="18257903-4453e2975e3dd917fd04b41f9",I=Object(b.a)(l.a.mark((function e(){var t,n,a,r,c,o,s,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:"cats",n=i.length>1&&void 0!==i[1]?i[1]:1,a=i.length>2&&void 0!==i[2]?i[2]:12,e.next=5,fetch("".concat(k,"?key=").concat(C,"&q=").concat(t,"&per_page=").concat(a,"&page=").concat(n,"\n      &image_type=photo&orientation=horizontal"));case 5:return r=e.sent,e.next=8,r.json();case 8:return c=e.sent,o=c.hits,s=c.totalHits,e.abrupt("return",{totalHits:s,images:o});case 12:case"end":return e.stop()}}),e)}))),N=n(14),T=n.n(N),E=document.querySelector("#modal-root"),L=function(e){var t=e.onClose,n=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){return window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(a.jsx)("div",{className:T.a.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(a.jsx)("div",{className:T.a.content,children:n})}),E)},M=(n(33),n(6)),F=n.n(M),H=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(d.a)(n,2),o=c[0],s=c[1];return Object(a.jsx)("header",{className:F.a.bar,children:Object(a.jsxs)("form",{className:F.a.form,onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),s("")):j.b.warn("Please enter your query",{position:"top-right"})},children:[Object(a.jsx)("button",{type:"submit",className:F.a.button,children:Object(a.jsx)("span",{className:F.a.label,children:"Search"})}),Object(a.jsx)("input",{className:F.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){return s(e.currentTarget.value)}})]})})},D=n(21),q=n(12),J=n(22),Y=n.n(J);function B(){var e=Object(D.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return B=function(){return e},e}var G=Object(q.css)(B()),P=function(e){var t=e.loading;return Object(a.jsx)("div",{className:"sweet-loading",children:Object(a.jsx)(Y.a,{css:G,size:32,color:"#303f9f",loading:t})})},R=n(23),Z=n(25),z=n(24),Q=n.n(z),U=n(15),V=n.n(U),W=function(){var e=Object(r.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(r.useEffect)((function(){return window.addEventListener("scroll",o),function(){return window.removeEventListener("scroll",o)}}));var o=function(){!n&&window.pageYOffset>400?c(!0):n&&window.pageYOffset<=400&&c(!1)};return Object(a.jsx)(Z.a,{className:Q()(V.a.scrollTop,Object(R.a)({},V.a.hideScroll,!n)),onClick:function(){window.scrollTo({top:0,behavior:"smooth"})}})},K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},A="idle",X="pending",$="resolved",ee="rejected",te=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(null),s=Object(d.a)(o,2),i=s[0],f=s[1],p=Object(r.useState)(),h=Object(d.a)(p,2),O=h[0],_=h[1],x=Object(r.useState)(1),v=Object(d.a)(x,2),S=v[0],w=v[1],k=Object(r.useState)(null),C=Object(d.a)(k,2),N=C[0],T=C[1],E=Object(r.useState)(null),M=Object(d.a)(E,2),F=M[0],D=M[1],q=Object(r.useState)(null),J=Object(d.a)(q,2),Y=J[0],B=J[1],G=Object(r.useState)(A),R=Object(d.a)(G,2),Z=R[0],z=R[1];Object(r.useEffect)((function(){z(X),Object(b.a)(l.a.mark((function e(){var t,n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(O,S);case 3:if(t=e.sent,n=t.images,a=t.totalHits,n.length){e.next=9;break}return j.b.warn("Sorry, nothing found :("),z(A),e.abrupt("return");case 9:c((function(e){return[].concat(Object(u.a)(e),Object(u.a)(n))})),z($),f(a),1!==S&&K(),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(0),B(e.t0),j.b.error(e.t0.message),z(ee);case 20:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[O,S]);var Q=function(){T("")};return Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsx)(H,{onSubmit:function(e){e!==O&&(c([]),w(1),B(!1),_(e))}}),Object(a.jsxs)(g,{children:[Z===ee&&Y&&Object(a.jsx)("p",{children:"Whoops... :( "}),Object(a.jsx)(y,{images:n,openModal:Q,onSetImgData:function(e){var t=e.urlFull,n=e.tags;T(t),D(n)}}),Z===X&&Object(a.jsx)(P,{loading:!0}),Z===$&&i>n.length&&Object(a.jsx)(m,{onLoadMore:function(){w((function(e){return e+1}))}}),Object(a.jsx)(j.a,{autoClose:4e3}),N&&Object(a.jsx)(L,{onClose:Q,children:Object(a.jsx)("img",{src:N,alt:F})}),Object(a.jsx)(W,{})]})]})};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(te,{})}),document.getElementById("root"))},6:function(e,t,n){e.exports={bar:"Searchbar_bar__hMWCH",form:"Searchbar_form__2bDYb",button:"Searchbar_button__3qkVQ",label:"Searchbar_label__3G9h0",input:"Searchbar_input__3HYIf"}}},[[41,1,2]]]);
//# sourceMappingURL=main.0b1a26fa.chunk.js.map