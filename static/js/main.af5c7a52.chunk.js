(this.webpackJsonpreactstudying=this.webpackJsonpreactstudying||[]).push([[0],{12:function(e,t,n){e.exports={item:"ImageGalleryItem_item__BJ07M",image:"ImageGalleryItem_image__K1pr6"}},13:function(e,t,n){e.exports={backdrop:"Modal_backdrop__22F3F",content:"Modal_content__3sqph"}},15:function(e,t,n){e.exports={button:"Button_button__YskiH"}},16:function(e,t,n){e.exports={Container:"Container_Container__1eVQL"}},17:function(e,t,n){e.exports={gallery:"ImageGallery_gallery__22JmB"}},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),o=n.n(r),c=n(3),i=n.n(c),s=(n(25),n(14)),u=n(2),l=n(9),b=n(15),j=n.n(b),d=function(e){var t=e.onLoadMore;return Object(a.jsx)("button",{id:"loadMore",type:"button",className:j.a.button,onClick:function(){return t()},children:"Load more"})},m=n(16),p=n.n(m),f=function(e){var t=e.children;return Object(a.jsx)("div",{className:p.a.Container,children:t})},h=n(12),O=n.n(h),g=function(e){var t=e.urlPreview,n=void 0===t?"http://placehold.it/600x400":t,r=e.urlFull,o=void 0===r?"http://placehold.it/600x400":r,c=e.tags,i=void 0===c?"":c,s=e.openModal,u=e.onSetImgData;return Object(a.jsx)("li",{className:O.a.item,children:Object(a.jsx)("img",{src:n,alt:i,className:O.a.image,onClick:function(){u({urlFull:o,tags:i}),s()}})})},x=n(17),_=n.n(x),v=function(e){var t=e.images,n=e.openModal,r=e.onSetImgData;return Object(a.jsx)("ul",{className:_.a.gallery,children:t.map((function(e,t){return Object(a.jsx)(g,{urlPreview:e.webformatURL,urlFull:e.largeImageURL,tags:e.tags,openModal:n,onSetImgData:r},t)}))})},S=n(4),y=n.n(S),w=function(e){var t=e.searchQuery,n=e.page,a=void 0===n?1:n,r=e.pageSize,o=void 0===r?12:r;return fetch("".concat("https://pixabay.com/api/","?key=").concat("18257903-4453e2975e3dd917fd04b41f9","&q=").concat(t,"&per_page=").concat(o,"&page=").concat(a,"\n      &image_type=photo&orientation=horizontal")).then((function(e){return e.json()})).then((function(e){var t=e.hits,n=e.totalHits;if(!t.length)throw new Error("unfortunately, your request not found.");return{totalHits:n,images:t}}))};w.propTypes={searchQuery:y.a.string.isRequired,page:y.a.number.isRequired,pageSize:y.a.number.isRequired};var k=w,C=n(13),I=n.n(C),M=document.querySelector("#modal-root"),N=function(e){var t=e.onClose,n=e.children;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){return window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&t()};return Object(c.createPortal)(Object(a.jsx)("div",{className:I.a.backdrop,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(a.jsx)("div",{className:I.a.content,children:n})}),M)},q=(n(28),n(5)),E=n.n(q),L=function(e){var t=e.onSubmit,n=Object(r.useState)(""),o=Object(u.a)(n,2),c=o[0],i=o[1];return Object(a.jsx)("header",{className:E.a.bar,children:Object(a.jsxs)("form",{className:E.a.form,onSubmit:function(e){e.preventDefault(),""!==c.trim()?(t(c),i("")):l.b.error("Please enter your query",{position:"top-right"})},children:[Object(a.jsx)("button",{type:"submit",className:E.a.button,children:Object(a.jsx)("span",{className:E.a.label,children:"Search"})}),Object(a.jsx)("input",{className:E.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:c,onChange:function(e){return i(e.currentTarget.value)}})]})})},D=n(18),F=n(11),H=n(19),Q=n.n(H);function R(){var e=Object(D.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return R=function(){return e},e}var z=Object(F.css)(R()),B=function(e){var t=e.loading;return Object(a.jsx)("div",{className:"sweet-loading",children:Object(a.jsx)(Q.a,{css:z,size:32,color:"#303f9f",loading:t})})},G="idle",J="pending",P="resolved",T="rejected",Y=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),i=Object(u.a)(c,2),b=i[0],j=i[1],m=Object(r.useState)("nature"),p=Object(u.a)(m,2),h=p[0],O=p[1],g=Object(r.useState)(1),x=Object(u.a)(g,2),_=x[0],S=x[1],y=Object(r.useState)(null),w=Object(u.a)(y,2),C=w[0],I=w[1],M=Object(r.useState)(null),q=Object(u.a)(M,2),E=q[0],D=q[1],F=Object(r.useState)(null),H=Object(u.a)(F,2),Q=H[0],R=H[1],z=Object(r.useState)(!1),Y=Object(u.a)(z,2),U=Y[0],V=Y[1],W=Object(r.useState)(G),K=Object(u.a)(W,2),A=K[0],X=K[1];Object(r.useEffect)((function(){return Z()}),[h]);var Z=function(){X(J),k({searchQuery:h,page:_}).then((function(e){var t=e.totalHits,n=e.images;o((function(e){return[].concat(Object(s.a)(e),Object(s.a)(n))})),S((function(e){return e+1})),j(t),X(P),1!==_&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){R(e),X(T)}))},$=function(e){e!==h&&(o([]),S(1),R(!1),O(e))},ee=function(e){var t=e.urlFull,n=e.tags;I(t),D(n)},te=function(){V((function(e){return!e}))};return A===J?Object(a.jsxs)(f,{children:[Object(a.jsx)(L,{onSubmit:$}),Object(a.jsx)(v,{images:n,openModal:te,onSetImgData:ee}),Object(a.jsx)(B,{loading:!0}),";"]}):A===T?Object(a.jsxs)(f,{children:[Object(a.jsx)(L,{onSubmit:$}),Object(a.jsx)("p",{children:"Whoops, ".concat(Q.message)})]}):Object(a.jsxs)(f,{children:[Object(a.jsx)(L,{onSubmit:$}),Object(a.jsx)(v,{images:n,openModal:te,onSetImgData:ee}),b>n.length&&Object(a.jsx)(d,{onLoadMore:Z}),Object(a.jsx)(l.a,{autoClose:4e3}),U&&Object(a.jsx)(N,{onClose:te,children:Object(a.jsx)("img",{src:C,alt:E})})]})};i.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(Y,{})}),document.getElementById("root"))},5:function(e,t,n){e.exports={bar:"Searchbar_bar__hMWCH",form:"Searchbar_form__2bDYb",button:"Searchbar_button__3qkVQ",label:"Searchbar_label__3G9h0",input:"Searchbar_input__3HYIf"}}},[[34,1,2]]]);
//# sourceMappingURL=main.af5c7a52.chunk.js.map